// ============================================================================
// KNG-NAV-MARKETPLACE - Sélection des marchés/hubs
// Breakpoints harmonisés : Mobile ≤599px | Tablet 600-1199px | Desktop ≥1200px
// ============================================================================

:host {
  h2, h3 {
    font-size: 1.4675rem;
    margin: 1rem 1.5rem 0;
  }
  p{
    margin: .5rem 1.5rem;
  }


  // ==========================================================================
  // MARKETPLACE CONTAINER - Scroll horizontal des hubs
  // ==========================================================================
  .marketplace {
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    scrollbar-width: none;
    width: 100%;
    margin-left: 0rem;

    &::-webkit-scrollbar {
      display: none;
    }

    // ========================================================================
    // CONTAINER FLEX - Grille des cartes hub
    // ========================================================================
    .container {
      display: flex;
      flex-flow: row wrap;
      width: calc(100% - 1rem);
      gap: .75rem;
      padding: .5rem;


      // ======================================================================
      // HUB CARD - Carte individuelle de marché
      // ======================================================================
      .hub {
        position: relative;
        padding: 0;
        max-height: 430px;
        overflow: hidden;
        border: 1px solid var(--mdc-theme-appbar);
        background-color: var(--mdc-theme-appbar-light);
        border-radius: 1rem;
        cursor: pointer;
        display: flex;
        flex-flow: column nowrap;
        width: calc(100% - 4rem);

        // TABLET + MOBILE (≤1199px)
        @media (max-width: 1199px) {
          max-height: 320px;
          border: none;
          width: 100%;
        }

        // État sélectionné
        &.selected .change {
          display: none;
        }

        // --------------------------------------------------------------------
        // SELECTED BADGE - Indicateur de sélection
        // --------------------------------------------------------------------
        .selected {
          position: absolute;
          right: 14px;
          top: 10px;
          color: var(--mdc-theme-primary);
          height: 36px;
          text-align: center;

          button {
            border-radius: 10px;
            cursor: pointer;
            border: 1px solid var(--mdc-theme-text-hint-on-background);
            background-color: white;
            padding: 2px 8px;
            font-size: var(--wa-font-size-xs);
          }

          .stars {
            font-size: 38px;
          }
        }

        // --------------------------------------------------------------------
        // LOGO - Image du hub
        // --------------------------------------------------------------------
        .logo {
          width: 100%;
          height: 43%;
          min-height: 42%;
          overflow: hidden;
          text-align: center;
          border-bottom: 1px solid var(--mdc-theme-appbar);
          padding: 0;

          // MOBILE (≤599px)
          @media (max-width: 599px) {
            height: 210px;
            margin: 0 auto;
            border-radius: 0;
          }

          img {
            height: 100%;
            width: 100%;
            margin: 0;
            object-position: center center;
            object-fit: cover;
          }
        }

        // --------------------------------------------------------------------
        // CONTENT - Informations du hub
        // --------------------------------------------------------------------
        .content {
          position: relative;
          margin: 0;
          width: calc(100% - 2rem);
          padding: 1rem;
          display: flex;
          flex-flow: column;
          height: 100%;
          font-size: 15px;

          .market {
            text-transform: uppercase;
            font-weight: 600;
          }

          .title {
            font-size: 1.25rem;
            font-weight: bold;
            margin: 6px 0;
          }

          .description {
            overflow: hidden;
            margin: 18px 0;
            color: var(--mdc-theme-text-secondary-on-background);
          }

          // CART - Lien vers le panier (masqué sur mobile)
          .cart {
            background-color: var(--mdc-theme-appbar-light);
            color: var(--mdc-theme-primary);
            font-size: var(--wa-font-size-m);
            font-weight: bold;
            width: fit-content;


            .icon {
              font-size: var(--wa-font-size-m);
              transform: translateY(3px);
              margin-left: 10px;
            }
          }

          // OPTIONS - Liens secondaires
          .options {
            font-size: 13px;
            margin-top: 10px;
            margin-bottom: 0;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--mdc-theme-appbar);
            display: flex;

            a {
              margin-left: auto;
              margin-right: 10px;
              color: var(--mdc-theme-text-hint-on-background);

              .icon {
                font-size: 15px;
              }
            }
          }

          // CALENDAR - Planning de livraison
          .calendar {
            margin-top: 5px;
            margin-bottom: 0;
            display: flex;

            .schedule {
              color: var(--mdc-theme-text-primary-on-background);
              margin: auto 0 auto 0;

              span {
                font-size: 20px;
                color: var(--mdc-theme-text-primary-on-background);
              }

              span.txt {
                font-size: var(--wa-font-size-s);
                padding: 1px 4px;
                transform: translateY(-5px);
                display: inline-block;
              }
            }
          }
        }
      }
    }

    // ========================================================================
    // AVAILABILITY - Liste des jours disponibles
    // ========================================================================
    ul.availability {
      padding-left: 0;
      margin: 0 5px 0 auto;
      list-style: none;

      li {
        font-size: var(--wa-font-size-s);
        display: inline-block;
        padding: 0 4px;
        text-align: center;

        .icon {
          font-size: var(--wa-font-size-m);
          color: var(--mdc-theme-primary);
        }
        .icon.open {
          font-size: var(--wa-font-size-m);
          color: var(--mdc-theme-karibou-pink);
        }

      }
    }
  }
}
