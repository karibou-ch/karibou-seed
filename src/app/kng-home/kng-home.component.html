<!-- FEEDBACK -->
<kng-feedback [config]="config" [user]="user" forceload="true" [orders]="pendingOrders">
  <h3>{{$i18n[locale].home_feedback_title}}</h3>
</kng-feedback>

<!-- INFORMATION -->
<div class="home-header" [hidden]="!hasContent('p',target)" 
    [class.cover-lg]="hasBackgroundContent(target)" 
    [ngStyle]="getContentStyle(target)">
  
  <div class="maintenance" *ngIf="config.shared.hub.maintenance.active" 
      [innerHtml]="config.shared.hub.maintenance.reason[locale]">    
  </div>
  <div class="welcome" [innerHtml]="getContent('p',target)"></div>  
</div>



<!-- SELECTION -->
<kng-product-swipe [products]="home" ></kng-product-swipe>

<!-- LINKS -->
<!-- <kng-product-link [config]="config"><h2 class="title">{{$i18n.label().nav_shortcuts}}</h2></kng-product-link> -->

<!-- CATEGORY -->
<!-- FIXED SIZE -->
<!-- on scroll HIDE==> [class.display]="scrollDirection > 1 || (!scrollDirection)" -->
<div class="toolbox home" >
  <ul>
    <li (click)="scrollToSlug(category.slug)"
              [id]="'category-'+j"                    
              [class.selected]="category.slug == displaySlug"
              *ngFor="let category of getCategories();let j=index">
      <i [class]="category.image" class="icon"></i>              
      <span>{{category.name}}</span>
    </li>
  </ul>
</div>

<h2 class="root show-sm">Les catégories</h2>
  
<div class="product-container mdc-layout-grid" *ngIf="products.length" >
    
  <!-- Layout documentation
       https://github.com/material-components/material-components-web/tree/master/packages/mdc-layout-grid -->


  <kng-product-grouped-list 
       useMaxCat="true"  showMore="on" offsetTop="500" clazz="home-header"       
       [config]="config" 
       [user]="user" 
       [contentCategories]="getCategories()" 
       [contentProducts]="products"       
       [contentIf]="target == 'home' && config.shared.hub.header.active"
       [scrollToSlug]="categorySlug" 
       (currentCategory)="displaySlug=($event || displaySlug)"
       (direction)="scrollDirection=$event">
    <!-- INFORMATION FOR HOME ONLY-->
    <div class="home-header hide-sm">
      <!-- HUB -->
      <div class="banner hide" >
        <h1>{{config.shared.hub.name}}</h1>
        <h2>{{config.shared.hub.description[locale]}}</h2>  
        <img hidden [src]="config.shared.hub.tagLine.image" />
        <button hidden>Changer de marché</button>
      </div>
    
      <div class="welcome" [innerHtml]="config.shared.hub.header.message[locale]"></div>
    </div>

  </kng-product-grouped-list>
</div>
  
<router-outlet ></router-outlet>