 <div class="page-saving" [hidden]="isReady">
    <h1>Saving</h1>
  </div>
  <div class="container">
  <mdc-list  avatar="true"  interactive="false">
    <mdc-list-item (click)="onConfigSave()">
      <mdc-icon mdcListItemGraphic>save</mdc-icon>
      <mdc-list-item-text i18n>Sauver vos modifications
        <mdc-list-item-secondary>Cliquer ici </mdc-list-item-secondary>
      </mdc-list-item-text>
      <mdc-icon class="pink" mdcListItemMeta>favorite</mdc-icon>  
    </mdc-list-item>
    <mdc-list-divider></mdc-list-divider>

    <!-- SITE Name -->
    <mdc-list-item class="config">
      <mdc-icon mdcListItemGraphic>folder_special</mdc-icon>
      <mdc-list-item-text>
        <mdc-text-field fullwidth i18n-label label="Nom du site" type="text" [(ngModel)]="config?.shared.home.siteName[$i18n.locale]">
        </mdc-text-field>
      </mdc-list-item-text>
    </mdc-list-item>
    <mdc-list-item class="config">
      <mdc-list-item-text>
        <button mdc-button outlined primary class="align-right"
               (click)="onClear('siteName')">remove image</button>
        <div class="images" style="float: right;">          
          <ngx-uploadcare-widget images-only="true" 
            [value]="config.shared.home.siteName.image" 
            [validator]="ucValidator"
            (on-upload-complete)="onUpload($event,'siteName')"
            (on-dialog-open)="onDialogOpen($event)"
            [public-key]="config.shared.keys.pubUpcare">
          </ngx-uploadcare-widget>
        </div>
      </mdc-list-item-text>
    </mdc-list-item>

    <!-- EMAIL -->
    <mdc-list-item class="config">
      <mdc-icon mdcListItemGraphic>folder_special</mdc-icon>
      <mdc-list-item-text>
        <mdc-text-field fullwidth i18n-label label="Mail de contact" type="text" [(ngModel)]="config?.shared.home.email">
        </mdc-text-field>
      </mdc-list-item-text>
    </mdc-list-item>
    
    <!-- PHONE -->
    <mdc-list-item class="config">
      <mdc-icon mdcListItemGraphic>folder_special</mdc-icon>
      <mdc-list-item-text>
        <mdc-text-field fullwidth i18n-label label="Téléphone de contact" type="text" [(ngModel)]="config?.shared.home.phone">
        </mdc-text-field>
      </mdc-list-item-text>
    </mdc-list-item>

    <!-- SUBJECT -->
    <mdc-list-item class="config">
      <mdc-icon mdcListItemGraphic>folder_special</mdc-icon>
      <mdc-list-item-text>
        <mdc-text-field fullwidth i18n-label label="Sujet des mails" type="text" [(ngModel)]="config?.shared.home.mail.subject"></mdc-text-field>
      </mdc-list-item-text>
    </mdc-list-item>

    <!-- SIGNATURE -->
    <mdc-list-item class="config large">
      <mdc-icon mdcListItemGraphic>folder_special</mdc-icon>
      <mdc-list-item-text>
        <mdc-textarea i18n-label label="Signature des mails " kng-autosize rows="4" [(ngModel)]="config?.shared.home.mail.signature"></mdc-textarea>
      </mdc-list-item-text>
    </mdc-list-item>

    <!-- FERMETURE -->
    <mdc-list-divider></mdc-list-divider>
    <h3 i18n>Interrompre les dates de livraisons suivantes</h3>
    <mdc-list-item class="config row-form" *ngFor="let noshipping of config?.shared.noshipping;let idx=index;">
      <mdc-text-field class="large" fullwidth  i18n-label label="pour quelle raison? " type="text" [(ngModel)]="(noshipping.reason)[$i18n.locale]"></mdc-text-field>
      <mdc-text-field fullwidth  i18n-label label="jj/mm/aaaa" type="date" [(ngModel)]="noshipping.from" required></mdc-text-field>
      <mdc-text-field fullwidth  i18n-label label="jj/mm/aaaa" type="date" [(ngModel)]="noshipping.to" required></mdc-text-field>
      <button class="small" mdc-button outlined primary (click)="config?.shared.noshipping.splice(idx, 1)"><mdc-icon>delete</mdc-icon></button>
    </mdc-list-item>
    <mdc-list-item >
      <button mdc-button outlined primary  (click)="config?.shared.noshipping.push({reason:{}})"><mdc-icon>add_alarm</mdc-icon>Ajouter</button>
    </mdc-list-item>

  </mdc-list>
  
  <hr class="dashed"/>
  <h3 i18n>Configuration des clés publiques (API tiers)</h3>
  <mdc-list  avatar="true" >
    <!-- PUBKEYS -->
    <mdc-list-item class="config">
      <mdc-icon mdcListItemGraphic>folder_special</mdc-icon>
      <mdc-list-item-text>
        <mdc-text-field fullwidth i18n-label label="Gateway public key (stripe)" type="text" [(ngModel)]="config?.shared.keys.pubStripe">
        </mdc-text-field>
      </mdc-list-item-text>
    </mdc-list-item>
    <mdc-list-item class="config">
      <mdc-icon mdcListItemGraphic>folder_special</mdc-icon>
      <mdc-list-item-text>
        <mdc-text-field fullwidth i18n-label label="Uploadcare public key" type="text" [(ngModel)]="config?.shared.keys.pubUpcare">
        </mdc-text-field>
      </mdc-list-item-text>
    </mdc-list-item>

    <mdc-list-item class="config">
      <mdc-icon mdcListItemGraphic>folder_special</mdc-icon>
      <mdc-list-item-text>
        <mdc-text-field fullwidth i18n-label label="Translate public key" type="text" [(ngModel)]="config?.shared.keys.pubTranslate">
        </mdc-text-field>
      </mdc-list-item-text>
    </mdc-list-item>

    <mdc-list-item class="config">
      <mdc-icon mdcListItemGraphic>folder_special</mdc-icon>
      <mdc-list-item-text>
        <mdc-text-field fullwidth i18n-label label="Github public key" type="text" [(ngModel)]="config?.shared.keys.pubGithub">
        </mdc-text-field>
      </mdc-list-item-text>
    </mdc-list-item>
    <mdc-list-item class="config">
      <mdc-icon mdcListItemGraphic>folder_special</mdc-icon>
      <mdc-list-item-text>
        <mdc-text-field fullwidth i18n-label label="Map public key" type="text" [(ngModel)]="config?.shared.keys.pubMap">
        </mdc-text-field>
      </mdc-list-item-text>
    </mdc-list-item>
    <mdc-list-item class="config">
      <mdc-icon mdcListItemGraphic>folder_special</mdc-icon>
      <mdc-list-item-text>
        <mdc-text-field fullwidth i18n-label label="Disqus public key" type="text" [(ngModel)]="config?.shared.keys.pubDisqus">
        </mdc-text-field>
      </mdc-list-item-text>
    </mdc-list-item>
    <mdc-list-item class="config">
      <mdc-icon mdcListItemGraphic>folder_special</mdc-icon>
      <mdc-list-item-text>
        <mdc-text-field fullwidth i18n-label label="Chat public key" type="text" [(ngModel)]="config?.shared.keys.pubChat">
        </mdc-text-field>
      </mdc-list-item-text>
    </mdc-list-item>
    <mdc-list-item class="config">
      <mdc-icon mdcListItemGraphic>folder_special</mdc-icon>
      <mdc-list-item-text>
        <mdc-text-field fullwidth i18n-label label="Google Auth public key" type="text" [(ngModel)]="config?.shared.keys.pubGoogle">
        </mdc-text-field>
      </mdc-list-item-text>
    </mdc-list-item>
    <mdc-list-item class="config">
      <mdc-icon mdcListItemGraphic>folder_special</mdc-icon>
      <mdc-list-item-text>
        <mdc-text-field fullwidth i18n-label label="Facebook Auth public key" type="text" [(ngModel)]="config?.shared.keys.pubFacebook">
        </mdc-text-field>
      </mdc-list-item-text>
    </mdc-list-item>
  </mdc-list>
</div>