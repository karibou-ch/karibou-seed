# Design Tokens - Guide de Style CSS

Ce document définit les règles d'utilisation des design tokens Web Awesome et les bonnes pratiques CSS pour le projet karibou-seed.

**Référence principale** : [Web Awesome Design Tokens](https://webawesome.com/docs/tokens/)

---

## Table des matières

1. [Philosophie d'usage](#philosophie-dusage)
2. [Color - Couleurs](#color---couleurs)
3. [Space - Espacements](#space---espacements)
4. [Border - Bordures](#border---bordures)
5. [Shadow - Ombres](#shadow---ombres)
6. [Typography - Typographie](#typography---typographie)
7. [Transition - Animations](#transition---animations)
8. [Focus - États de focus](#focus---états-de-focus)
9. [Component Groups - Groupes de composants](#component-groups---groupes-de-composants)
10. [Audit du projet actuel](#audit-du-projet-actuel)

---

## Fichiers protégés - NE PAS MODIFIER

> **⚠️ ATTENTION : Les sections suivantes nécessitent une confirmation STRICTE avant modification.**

### `src/styles/styles.scss` - Layout Principal

Les classes suivantes gèrent l'architecture responsive 3 colonnes avec swipe mobile. Toute modification peut casser le comportement de navigation sur tous les devices.

**Classes protégées :**

| Classe | Rôle | Impact si modifiée |
|--------|------|-------------------|
| `.grid-container-3` | Grille principale 3 colonnes | Layout entier cassé |
| `.mobile-columns-wrapper` | Wrapper swipe mobile/tablet | Navigation mobile cassée |
| `.swipe-panel` (`.side`, `.center`, `.right`) | Panels swipables | Positions et scroll cassés |
| `.swipe-indicators` | Indicateurs de position mobile | UX mobile dégradée |

**Propriétés critiques :**

```scss
// ⛔ NE PAS TOUCHER sans confirmation
grid-template-columns: .6fr var(--mdc-theme-container-width) 1fr;
grid-template-rows: var(--mdc-theme-top-bar) 1fr auto;
scroll-snap-type: x mandatory;
scroll-snap-align: center;
touch-action: pan-x;
```

**Règle :** Demander une confirmation explicite avant toute modification de ces classes.

### Variables CSS de layout

Ces variables sont utilisées globalement et impactent tout le site :

```scss
// ⛔ PROTÉGÉES - Impact global
--mdc-theme-top-bar          // Hauteur navbar
--mdc-theme-mobile-bar       // Hauteur mobile-bar (iOS safe area)
--mdc-theme-container-width  // Largeur container central
--mdc-theme-body-zoom        // Zoom du body
--mdc-theme-toolbox-width    // Largeur menu side
--mdc-theme-right-width      // Largeur sidebar droite

// ⛔ CALCULÉE - Ne pas surcharger directement
--mdc-theme-height           // Hauteur viewport dynamique
```

**Variable calculée `--mdc-theme-height`** (définie dans `kng-responsive.scss`) :

```scss
// Calcule la hauteur disponible en tenant compte du zoom et des barres système
--mdc-theme-height: calc((100dvh - var(--mdc-theme-top-bar, 0) - var(--mdc-theme-mobile-bar, 0)) / var(--mdc-theme-body-zoom));
```

Cette variable est utilisée pour les conteneurs pleine hauteur et s'adapte automatiquement au zoom et aux barres système (iOS safe area, etc.).

---

## Architecture des couleurs

### Fichier source : `src/styles/colors.scss`

Les couleurs du projet sont centralisées dans `colors.scss` qui est importé dans `styles.scss`. Ce fichier contient :

1. **Palette de catégories** : Couleurs cycliques pour les cards
2. **Génération dynamique brand** : Échelle complète depuis `--mdc-theme-primary`
3. **Support dark mode** : Classe `.wa-dark` combinable avec le thème Hub

---

## Thème dynamique - navigation.service.ts

**Fichier source** : `src/app/common/navigation.service.ts` (lignes 100-160)

### Fonctionnement actuel

Le thème est appliqué dynamiquement via JavaScript en fonction du Hub sélectionné. Les couleurs proviennent de `hub.colors` depuis le backend.

```typescript
// navigation.service.ts - updateConfig()
const style = document.documentElement.style;
if (hub.colors.primary) { 
  style.setProperty('--mdc-theme-primary', hub.colors.primary); 
}
if (hub.colors.action) { 
  style.setProperty('--mdc-theme-secondary', hub.colors.action); 
}
if (hub.colors.appbar) {
  style.setProperty('--mdc-theme-appbar', hub.colors.appbar);
}
// etc.
```

### Mapping couleurs Hub → CSS Variables

| Propriété Hub | Variable CSS | Usage |
|---------------|--------------|-------|
| `hub.colors.primary` | `--mdc-theme-primary` | Couleur marque principale |
| `hub.colors.primaryText` | `--mdc-theme-primary-text` | Texte sur fond primary |
| `hub.colors.action` | `--mdc-theme-secondary` | Couleur d'accent |
| `hub.colors.actionText` | `--mdc-theme-secondary-text` | Texte sur fond accent |
| `hub.colors.colormix` | `--mdc-theme-colormix` | Base pour `color-mix()` |
| `hub.colors.appbar` | `--mdc-theme-appbar` | Fond de la navbar |
| `hub.colors.appbarText` | `--mdc-theme-appbar-text` | Texte de la navbar |

### Génération automatique des variantes (color-mix)

```scss
// styles.scss - Génération variantes claires
@supports (color: color-mix(in srgb, red 50%, blue)) {
  --mdc-theme-primary-light: color-mix(in srgb, var(--mdc-theme-primary) 30%, var(--mdc-theme-colormix));
  --mdc-theme-secondary-light: color-mix(in srgb, var(--mdc-theme-secondary) 30%, var(--mdc-theme-colormix));
}
```

---

## TODO : Migration vers Web Awesome Theming

**Documentation référence** : 
- https://webawesome.com/docs/customizing
- https://webawesome.com/docs/color-palettes

### Tâches de migration

#### Phase 1 : Mapping sémantique `--mdc-theme-*` → `--wa-color-*`

| Tâche | Priorité | Complexité |
|-------|----------|------------|
| Mapper `--mdc-theme-primary` → `--wa-color-brand-*` scale | Haute | Moyenne |
| Mapper `--mdc-theme-secondary` → `--wa-color-brand-*` ou custom | Haute | Moyenne |
| Définir si `neutral` = gray scale ou dérivé du primary | Moyenne | Faible |

**Algorithme oklab pour le contraste** :

L'espace colorimétrique `oklab` garantit une perception uniforme du contraste :

| Différence lightness | Ratio contraste | Usage WCAG |
|---------------------|-----------------|------------|
| 40 | 3:1 minimum | Éléments UI larges |
| 50 | 4.5:1 minimum | Texte normal (AA) |
| 60 | 7:1 minimum | Texte petit (AAA) |

**Implémentation dans `colors.scss`** :

```scss
// ============================================================
// GÉNÉRATION DYNAMIQUE - Algorithme oklab
// Contraste WCAG garanti via différences de lightness calibrées
// ============================================================
:root {
  // Base color (définie par Hub ou défaut)
  --mdc-theme-primary: #32b0a0;
  
  // ✅ Tints (vers le blanc) - oklab pour perception uniforme
  --wa-color-brand-95: color-mix(in oklab, white 95%, var(--mdc-theme-primary) 5%);
  --wa-color-brand-90: color-mix(in oklab, white 88%, var(--mdc-theme-primary) 12%);
  --wa-color-brand-80: color-mix(in oklab, white 70%, var(--mdc-theme-primary) 30%);
  --wa-color-brand-70: color-mix(in oklab, white 55%, var(--mdc-theme-primary) 45%);
  --wa-color-brand-60: color-mix(in oklab, white 40%, var(--mdc-theme-primary) 60%);
  --wa-color-brand-50: var(--mdc-theme-primary);  // Base
  
  // ✅ Shades (vers le noir) - contraste texte garanti
  --wa-color-brand-40: color-mix(in oklab, var(--mdc-theme-primary) 90%, black 10%);
  --wa-color-brand-30: color-mix(in oklab, var(--mdc-theme-primary) 80%, black 20%);
  --wa-color-brand-20: color-mix(in oklab, var(--mdc-theme-primary) 65%, black 35%);
  --wa-color-brand-10: color-mix(in oklab, var(--mdc-theme-primary) 50%, black 50%);
  --wa-color-brand-05: color-mix(in oklab, var(--mdc-theme-primary) 30%, black 70%);
  
  // ✅ Tokens sémantiques brand
  --wa-color-brand-fill-quiet: var(--wa-color-brand-90);
  --wa-color-brand-fill-normal: var(--wa-color-brand-80);
  --wa-color-brand-fill-loud: var(--wa-color-brand-50);
  --wa-color-brand-border-quiet: var(--wa-color-brand-80);
  --wa-color-brand-border-normal: var(--wa-color-brand-60);
  --wa-color-brand-border-loud: var(--wa-color-brand-50);
  --wa-color-brand-on-quiet: var(--wa-color-brand-30);
  --wa-color-brand-on-normal: var(--wa-color-brand-20);
  --wa-color-brand-on-loud: var(--mdc-theme-primary-text);
}

// ============================================================
// DARK MODE - Inverse l'échelle pour fond sombre
// ============================================================
.wa-dark {
  // Fond sombre → tints deviennent foncés, shades deviennent clairs
  --wa-color-brand-fill-quiet: var(--wa-color-brand-20);
  --wa-color-brand-fill-normal: var(--wa-color-brand-30);
  --wa-color-brand-fill-loud: var(--wa-color-brand-50);
  --wa-color-brand-border-quiet: var(--wa-color-brand-30);
  --wa-color-brand-border-normal: var(--wa-color-brand-40);
  --wa-color-brand-border-loud: var(--wa-color-brand-50);
  --wa-color-brand-on-quiet: var(--wa-color-brand-70);
  --wa-color-brand-on-normal: var(--wa-color-brand-80);
  --wa-color-brand-on-loud: var(--mdc-theme-primary-text);
}
```

#### Phase 2 : Mise à jour de `navigation.service.ts`

| Tâche | Priorité | Complexité |
|-------|----------|------------|
| Ajouter setProperty pour `--wa-color-brand-*` | Haute | Faible |
| Générer dynamiquement les tints (50, 60, 70, etc.) | Moyenne | Haute |
| Supporter dark mode via `.wa-dark` class | Basse | Moyenne |

**Code à ajouter dans `updateConfig()` :**

```typescript
// navigation.service.ts - À AJOUTER
if (hub.colors.primary) {
  // Existant
  style.setProperty('--mdc-theme-primary', hub.colors.primary);
  
  // ✅ NOUVEAU - Web Awesome brand mapping
  style.setProperty('--wa-color-brand-50', hub.colors.primary);
  style.setProperty('--wa-color-brand-fill-loud', hub.colors.primary);
  // etc.
}
```

#### Phase 3 : ✅ IMPLÉMENTÉ - Palette dynamique dans `colors.scss`

| Tâche | Statut | Fichier |
|-------|--------|---------|
| Génération échelle brand (oklab) | ✅ Fait | `src/styles/colors.scss` |
| Génération échelle secondary (oklab) | ✅ Fait | `src/styles/colors.scss` |
| Support dark mode `.wa-dark` | ✅ Fait | `src/styles/colors.scss` |
| Palette catégories cyclique | ✅ Existant | `src/styles/colors.scss` |

**Architecture implémentée :**

```
src/styles/
├── colors.scss          ← Toutes les couleurs (brand, secondary, catégories)
├── styles.scss          ← Importe colors.scss + layout global
└── kng-responsive.scss  ← Variables responsive (--mdc-theme-height)
```

**Tokens sémantiques disponibles :**

| Token | Light mode | Dark mode |
|-------|------------|-----------|
| `--wa-color-brand-fill-quiet` | brand-90 (clair) | brand-20 (foncé) |
| `--wa-color-brand-fill-normal` | brand-80 | brand-30 |
| `--wa-color-brand-fill-loud` | brand-50 (base) | brand-50 (base) |
| `--wa-color-brand-on-*` | brand-30/20 | brand-70/80 |

#### Phase 4 : Migration progressive des composants

| Tâche | Fichiers concernés | Priorité |
|-------|-------------------|----------|
| Remplacer `var(--mdc-theme-primary)` par `var(--wa-color-brand-fill-loud)` | ~200 occurrences | Basse |
| Remplacer hardcoded `#32b0a0` par tokens | ~15 occurrences | Moyenne |
| Tester rendu avec différents Hubs | - | Haute |

### Risques et précautions

1. **Rétrocompatibilité** : Garder `--mdc-theme-*` actif pendant la transition
2. **Tests multi-Hub** : Tester avec Geneva, Lausanne, HDR, etc.
3. **Dark mode** : ✅ Implémenté dans `colors.scss` via classe `.wa-dark`

### Activation du dark mode

```html
<!-- Ajouter la classe sur html pour activer -->
<html class="wa-dark">

<!-- Combinable avec le thème Hub dynamique -->
<!-- navigation.service.ts continue de setter --mdc-theme-primary -->
<!-- Les tokens --wa-color-brand-* s'adaptent automatiquement -->
```

```typescript
// navigation.service.ts - Toggle dark mode (à implémenter)
toggleDarkMode(enabled: boolean) {
  document.documentElement.classList.toggle('wa-dark', enabled);
}

---

## Philosophie d'usage

### Quand utiliser les tokens

| Contexte | Utiliser tokens | Valeurs libres OK |
|----------|-----------------|-------------------|
| **Root du composant** (padding, gap principal) | **Obligatoire** | Non |
| **Éléments de layout** (grilles, containers) | **Obligatoire** | Non |
| **Couleurs sémantiques** (brand, danger, etc.) | **Obligatoire** | Non |
| **Bordures structurantes** | **Obligatoire** | Non |
| **Marges internes fines** (padding inline) | Non | Oui (`.5rem`, `.25rem`) |
| **Ajustements positionnels** | Non | Oui (`1px`, `2px`) |
| **Dimensions fixes** (icônes, avatars) | Non | Oui (`24px`, `48px`) |

### Règle d'or

> **Prioriser les tokens au niveau racine des composants**. Les ajustements fins internes (`.5rem`, `.25rem`, `1rem`) sont acceptables s'ils ne cassent pas le rhythm global.

---

## Color - Couleurs

**Documentation** : https://webawesome.com/docs/tokens/color/

### Quand consulter la doc

- Définir des états visuels (success, warning, danger, brand)
- Surfaces et fonds d'éléments
- Texte sur fond coloré
- Contrastes accessibles (WCAG 2.1)

### Tokens essentiels

#### Couleurs sémantiques

| Usage | Token | Exemple |
|-------|-------|---------|
| **Fond calme** | `--wa-color-neutral-fill-quiet` | Backgrounds subtils |
| **Fond normal** | `--wa-color-neutral-fill-normal` | Backgrounds standard |
| **Fond accentué** | `--wa-color-neutral-fill-loud` | Tooltips, badges |
| **Bordure calme** | `--wa-color-neutral-border-quiet` | Séparateurs légers |
| **Bordure standard** | `--wa-color-neutral-border-normal` | Inputs, cards |
| **Bordure forte** | `--wa-color-neutral-border-loud` | Focus, sélection |
| **Texte calme** | `--wa-color-neutral-on-quiet` | Hints, placeholders |
| **Texte standard** | `--wa-color-neutral-on-normal` | Texte secondaire |
| **Texte fort** | `--wa-color-neutral-on-loud` | Texte sur fond coloré |

#### Pattern attention

```
quiet  → attire le moins d'attention (discret)
normal → attention modérée
loud   → attire le plus d'attention (accentué)
```

### Exemples pratiques

```scss
// ✅ CORRECT - Utiliser tokens sémantiques
.card {
  background: var(--wa-color-surface-default);
  border: 1px solid var(--wa-color-neutral-border-quiet);
}

.card-header {
  border-bottom: 1px solid var(--wa-color-neutral-border-quiet);
}

.hint-text {
  color: var(--wa-color-text-quiet);
}

.badge-danger {
  background: var(--wa-color-danger-fill-loud);
  color: var(--wa-color-danger-on-loud);
}

// ❌ À ÉVITER - Couleurs hardcodées
.card {
  background: #f5f5f5; // → Utiliser --wa-color-surface-default
  border: 1px solid #ddd; // → Utiliser --wa-color-neutral-border-quiet
}
```

### Convention projet (--mdc-theme-*)

Le projet utilise aussi des tokens custom `--mdc-theme-*` qui doivent être préservés pour la cohérence du thème :

```scss
// Tokens projet existants (à garder)
--mdc-theme-primary       // Couleur principale
--mdc-theme-secondary     // Couleur d'accent
--mdc-theme-appbar        // Fond navbar
--mdc-theme-appbar-text   // Texte navbar
```

---

## Space - Espacements

**Documentation** : https://webawesome.com/docs/tokens/space/

### Quand consulter la doc

- Définir le padding/margin racine d'un composant
- Espacements entre sections
- Gap dans les layouts flex/grid
- Cohérence du rythme vertical

### Échelle des espacements

| Token | Valeur | Usage typique |
|-------|--------|---------------|
| `--wa-space-3xs` | 2px | Micro-ajustements |
| `--wa-space-2xs` | 4px | Padding icônes |
| `--wa-space-xs` | 8px | Padding boutons inline |
| `--wa-space-s` | 12px | Gap entre éléments liés |
| `--wa-space-m` | 16px | Padding standard |
| `--wa-space-l` | 24px | Séparation sections |
| `--wa-space-xl` | 32px | Grandes sections |
| `--wa-space-2xl` | 40px | Spacing hero |
| `--wa-space-3xl` | 48px | Spacing majeur |
| `--wa-space-4xl` | 64px | Spacing page |

### Exemples pratiques

```scss
// ✅ CORRECT - Tokens au niveau racine
.kng-card {
  padding: var(--wa-space-m);
  
  .card-content {
    // Valeurs libres OK pour ajustements internes
    padding: .75rem 1rem;
  }
}

.product-grid {
  display: grid;
  gap: var(--wa-space-l); // 24px - obligatoire au niveau layout
}

.section {
  margin-block: var(--wa-space-xl);
  padding-inline: var(--wa-space-m);
}

// ✅ ACCEPTABLE - Valeurs libres pour micro-ajustements
.icon-button {
  padding: .5rem;  // OK pour composant atomique
}

// ❌ À ÉVITER - Hardcoding au niveau layout
.product-grid {
  gap: 24px; // → Utiliser var(--wa-space-l)
}
```

### Priorité de normalisation

**HAUTE PRIORITÉ** (utiliser tokens) :
- Padding racine des composants (`kng-*.component.scss`)
- Gap des grilles principales
- Margin entre sections

**BASSE PRIORITÉ** (valeurs libres OK) :
- Padding inline d'éléments texte
- Marges de fine-tuning visuel
- Ajustements responsive spécifiques

---

## Border - Bordures

**Documentation** : https://webawesome.com/docs/tokens/borders/

### Quand consulter la doc

- Définir un style de bordure cohérent
- Épaisseur de bordure
- Rayons de bordure (border-radius)
- Formes spéciales (pill, circle)

### Tokens essentiels

```scss
// Épaisseurs
--wa-border-width-s   // 1px - défaut
--wa-border-width-m   // 2px - accentuée
--wa-border-width-l   // 3px - forte

// Rayons
--wa-border-radius-s      // 3px - subtil
--wa-border-radius-m      // 6px - standard
--wa-border-radius-l      // 12px - prononcé
--wa-border-radius-pill   // 9999px - boutons arrondis
--wa-border-radius-circle // 50% - avatars
--wa-border-radius-square // 0px - angles droits

// Style
--wa-border-style     // solid (défaut)
```

### Exemples pratiques

```scss
// ✅ CORRECT
.card {
  border: var(--wa-border-width-s) var(--wa-border-style) var(--wa-color-neutral-border-quiet);
  border-radius: var(--wa-border-radius-m);
}

.avatar {
  border-radius: var(--wa-border-radius-circle);
}

.badge {
  border-radius: var(--wa-border-radius-pill);
}

// ❌ À ÉVITER
.card {
  border: 1px solid #ddd;
  border-radius: 6px; // → var(--wa-border-radius-m)
}
```

---

## Shadow - Ombres

**Documentation** : https://webawesome.com/docs/tokens/shadows/

### Quand consulter la doc

- Élévation de composants (cards, modals, dropdowns)
- Hiérarchie visuelle
- États hover avec profondeur

### Tokens essentiels

```scss
--wa-shadow-s   // Élévation légère (cards)
--wa-shadow-m   // Élévation moyenne (dropdowns)
--wa-shadow-l   // Élévation forte (modals, drawers)
```

### Exemples pratiques

```scss
// ✅ CORRECT
.card {
  box-shadow: var(--wa-shadow-s);
}

.dropdown-menu {
  box-shadow: var(--wa-shadow-m);
}

.modal {
  box-shadow: var(--wa-shadow-l);
}

// Hover avec élévation
.card:hover {
  box-shadow: var(--wa-shadow-m);
}

// ❌ À ÉVITER
.card {
  box-shadow: 0 2px 4px rgba(0,0,0,0.1); // → var(--wa-shadow-s)
}
```

---

## Typography - Typographie

**Documentation** : https://webawesome.com/docs/tokens/typography/

### Quand consulter la doc

- Hiérarchie de titres
- Tailles de texte cohérentes
- Poids de police
- Hauteur de ligne

### Tokens essentiels

```scss
// Familles
--wa-font-family-body     // Texte courant
--wa-font-family-heading  // Titres
--wa-font-family-code     // Code
--wa-font-family-longform // Articles longs

// Tailles
--wa-font-size-2xs  // 11px
--wa-font-size-xs   // 12px - badges, hints
--wa-font-size-s    // 14px - texte secondaire
--wa-font-size-m    // 16px - texte standard
--wa-font-size-l    // 20px - sous-titres
--wa-font-size-xl   // 25px - titres
--wa-font-size-2xl  // 32px - grands titres
--wa-font-size-3xl  // 41px - hero
--wa-font-size-4xl  // 52px - display

// Poids
--wa-font-weight-light    // 300
--wa-font-weight-normal   // 400
--wa-font-weight-semibold // 500
--wa-font-weight-bold     // 600

// Hauteur de ligne
--wa-line-height-condensed // 1.2 - titres
--wa-line-height-normal    // 1.6 - corps
--wa-line-height-expanded  // 2.0 - aéré
```

### Exemples pratiques

```scss
// ✅ CORRECT
h1 {
  font-size: var(--wa-font-size-2xl);
  font-weight: var(--wa-font-weight-bold);
  line-height: var(--wa-line-height-condensed);
}

.hint {
  font-size: var(--wa-font-size-xs);
  color: var(--wa-color-text-quiet);
}

// ❌ À ÉVITER
h1 {
  font-size: 32px; // → var(--wa-font-size-2xl)
}
```

---

## Transition - Animations

**Documentation** : https://webawesome.com/docs/tokens/transitions/

### Quand consulter la doc

- Durée d'animations cohérente
- Easing standard
- États hover/focus fluides

### Tokens essentiels

```scss
--wa-transition-fast    // 75ms - hover, focus
--wa-transition-normal  // 150ms - transitions standard
--wa-transition-slow    // 300ms - animations complexes

--wa-transition-easing  // ease (défaut)
```

### Exemples pratiques

```scss
// ✅ CORRECT
.button {
  transition: background-color var(--wa-transition-fast) var(--wa-transition-easing);
}

.drawer {
  transition: transform var(--wa-transition-normal) var(--wa-transition-easing);
}

.page-fade {
  transition: opacity var(--wa-transition-slow) var(--wa-transition-easing);
}

// ❌ À ÉVITER
.button {
  transition: all 0.2s ease; // → var(--wa-transition-fast)
}
```

---

## Focus - États de focus

**Documentation** : https://webawesome.com/docs/tokens/focus/

### Quand consulter la doc

- Accessibilité clavier
- Ring de focus visible
- Navigation Tab cohérente

### Tokens essentiels

```scss
--wa-focus-ring         // Shorthand complet
--wa-focus-ring-style   // solid
--wa-focus-ring-width   // 3px
--wa-color-focus        // Couleur du ring
--wa-focus-ring-offset  // 1px
```

### Exemples pratiques

```scss
// ✅ CORRECT - Utiliser le shorthand
.interactive-element:focus-visible {
  outline: var(--wa-focus-ring);
  outline-offset: var(--wa-focus-ring-offset);
}

// Pour éléments custom
.custom-button:focus-visible {
  box-shadow: 0 0 0 var(--wa-focus-ring-width) var(--wa-color-focus);
}
```

---

## Component Groups - Groupes de composants

**Documentation** : https://webawesome.com/docs/tokens/component-groups/

### Quand consulter la doc

- Styling cohérent des formulaires
- Panels et cards
- Tooltips

### Form Controls

```scss
--wa-form-control-border-radius    // Arrondi inputs
--wa-form-control-border-width     // Épaisseur bordure
--wa-form-control-padding-block    // Padding vertical
--wa-form-control-padding-inline   // Padding horizontal
--wa-form-control-height           // Hauteur standard
```

### Panels

```scss
--wa-panel-border-radius   // Cards, callouts, details
--wa-panel-border-width
--wa-panel-border-style
```

### Tooltips

```scss
--wa-tooltip-background-color
--wa-tooltip-border-radius
--wa-tooltip-font-size
```

---

## Audit du projet actuel

### Statistiques (janvier 2026)

| Catégorie | Hardcodé | À migrer (priorité haute) |
|-----------|----------|---------------------------|
| **Spacing** (px) | 443 | ~60% root-level |
| **Border-radius** | 190 | ~80% |
| **Font-size** | 229 | ~50% |
| **Box-shadow** | 85 | ~90% |
| **Transition** | 72 | ~70% |
| `--mdc-theme-*` | 765 | Conserver |
| `--wa-*` adoptés | 86 | Augmenter |

### Fichiers prioritaires pour normalisation

**Layout global** (HAUTE PRIORITÉ) :
- `src/styles/styles.scss`
- `src/styles/kng-theme.scss`
- `src/styles/kng-widgets.scss`
- `src/styles/kng-side-menu.scss`
- `src/styles/kng-responsive.scss`

**Composants principaux** :
- `kng-home/kng-home.component.scss`
- `kng-product/product-list.component.scss`
- `kng-product/product-thumbnail.component.scss`
- `kng-cart/kng-cart.component.scss`
- `kng-navbar/kng-navbar.component.scss`

### Migration progressive recommandée

1. **Phase 1** : Shadows (`box-shadow`) → `--wa-shadow-*`
2. **Phase 2** : Border-radius → `--wa-border-radius-*`
3. **Phase 3** : Transitions → `--wa-transition-*`
4. **Phase 4** : Root-level spacing → `--wa-space-*`
5. **Phase 5** : Couleurs restantes → `--wa-color-*`

### Pattern de migration

```scss
// AVANT
.component {
  padding: 16px;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
  transition: all 0.2s ease;
}

// APRÈS
.component {
  padding: var(--wa-space-m);
  border-radius: var(--wa-border-radius-m);
  box-shadow: var(--wa-shadow-s);
  transition: all var(--wa-transition-fast) var(--wa-transition-easing);
}
```

---

## Récapitulatif : Quand lire la documentation

| Besoin | Doc à consulter | URL |
|--------|-----------------|-----|
| Palette de couleurs, états visuels | Color | https://webawesome.com/docs/tokens/color/ |
| Espacements, rhythm, layout | Space | https://webawesome.com/docs/tokens/space/ |
| Bordures, rayons, formes | Borders | https://webawesome.com/docs/tokens/borders/ |
| Élévation, profondeur | Shadows | https://webawesome.com/docs/tokens/shadows/ |
| Tailles texte, poids, familles | Typography | https://webawesome.com/docs/tokens/typography/ |
| Durées animations, easing | Transitions | https://webawesome.com/docs/tokens/transitions/ |
| Accessibilité clavier | Focus | https://webawesome.com/docs/tokens/focus/ |
| Formulaires, panels, tooltips | Component Groups | https://webawesome.com/docs/tokens/component-groups/ |
