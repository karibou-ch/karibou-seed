# Design Tokens - Guide de Style CSS

Ce document d√©finit les r√®gles d'utilisation des design tokens Web Awesome et les bonnes pratiques CSS pour le projet karibou-seed.

**R√©f√©rence principale** : [Web Awesome Design Tokens](https://webawesome.com/docs/tokens/)

---

## Table des mati√®res

1. [Plan de migration prioritaire](#plan-de-migration-prioritaire)
2. [Fichiers prot√©g√©s](#fichiers-prot√©g√©s---ne-pas-modifier)
3. [Philosophie d'usage](#philosophie-dusage)
4. [Color - Couleurs](#color---couleurs)
5. [Space - Espacements](#space---espacements)
6. [Border - Bordures](#border---bordures)
7. [Shadow - Ombres](#shadow---ombres)
8. [Typography - Typographie](#typography---typographie)
9. [Transition - Animations](#transition---animations)
10. [Focus - √âtats de focus](#focus---√©tats-de-focus)
11. [Component Groups - Groupes de composants](#component-groups---groupes-de-composants)
12. [Audit du projet actuel](#audit-du-projet-actuel)

---

## Plan de migration prioritaire

> **üéØ OBJECTIF** : Normaliser les tokens CSS par ordre d'impact visuel et de risque de r√©gression.

### Sprint 1 - Tokens critiques (Impact imm√©diat)

| Priorit√© | Token | Remplacement | Fichiers | Commande grep |
|----------|-------|--------------|----------|---------------|
| üî¥ P0 | `box-shadow: 0 2px` | `var(--wa-shadow-s)` | ~85 | `rg "box-shadow.*0.*2px"` |
| üî¥ P0 | `box-shadow: 0 4px` | `var(--wa-shadow-m)` | ~20 | `rg "box-shadow.*0.*4px"` |
| üî¥ P0 | `border-radius: 4px` | `var(--wa-border-radius-s)` | ~50 | `rg "border-radius.*4px"` |
| üî¥ P0 | `border-radius: 8px` | `var(--wa-border-radius-m)` | ~80 | `rg "border-radius.*8px"` |
| üî¥ P0 | `border-radius: 16px` | `var(--wa-border-radius-l)` | ~30 | `rg "border-radius.*16px"` |

**Pourquoi P0** : Ces tokens ont un impact visuel majeur et sont facilement d√©tectables si incorrects.

### Sprint 2 - Transitions et animations

| Priorit√© | Token | Remplacement | Fichiers | Commande grep |
|----------|-------|--------------|----------|---------------|
| üü† P1 | `transition: .2s` | `var(--wa-transition-fast)` | ~40 | `rg "transition.*\.2s"` |
| üü† P1 | `transition: .3s` | `var(--wa-transition-normal)` | ~25 | `rg "transition.*\.3s"` |
| üü† P1 | `transition: all 0.2s ease` | Pattern complet | ~30 | `rg "transition.*all.*ease"` |

**Pourquoi P1** : UX am√©lior√©e, coh√©rence des animations, mais moins visible si incorrect.

### Sprint 3 - Espacements root-level

| Priorit√© | Token | Remplacement | Fichiers | Commande grep |
|----------|-------|--------------|----------|---------------|
| üü° P2 | `padding: 16px` (root) | `var(--wa-space-m)` | ~100 | `rg "padding.*16px"` |
| üü° P2 | `padding: 24px` (root) | `var(--wa-space-l)` | ~60 | `rg "padding.*24px"` |
| üü° P2 | `gap: 16px` | `var(--wa-space-m)` | ~40 | `rg "gap.*16px"` |
| üü° P2 | `gap: 24px` | `var(--wa-space-l)` | ~30 | `rg "gap.*24px"` |
| üü° P2 | `margin: 16px` (sections) | `var(--wa-space-m)` | ~80 | `rg "margin.*16px"` |

**Pourquoi P2** : Important pour le rythme visuel, mais valeurs libres acceptables si coh√©rentes.

### Sprint 4 - Typographie

| Priorit√© | Token | Remplacement | Fichiers | Commande grep |
|----------|-------|--------------|----------|---------------|
| üü¢ P3 | `font-size: 12px` | `var(--wa-font-size-xs)` | ~40 | `rg "font-size.*12px"` |
| üü¢ P3 | `font-size: 14px` | `var(--wa-font-size-s)` | ~80 | `rg "font-size.*14px"` |
| üü¢ P3 | `font-size: 16px` | `var(--wa-font-size-m)` | ~50 | `rg "font-size.*16px"` |
| üü¢ P3 | `font-weight: 600` | `var(--wa-font-weight-bold)` | ~30 | `rg "font-weight.*600"` |

**Pourquoi P3** : Basse priorit√© car souvent intentionnel et contexte-d√©pendant.

### ‚úÖ D√©j√† fait

| Token | Statut | Commit |
|-------|--------|--------|
| `#ddd` / `#eee` ‚Üí `--wa-color-neutral-*` | ‚úÖ Fait | `6b61d94` |
| Algorithme oklab brand/secondary | ‚úÖ Fait | `6b61d94` |
| Dark mode `.wa-dark` | ‚úÖ Fait | `6b61d94` |

### Workflow de migration par fichier

```bash
# 1. Identifier les occurrences dans un fichier
rg "box-shadow.*0.*2px" src/app/kng-product/

# 2. V√©rifier le contexte (card, dropdown, modal?)
# 3. Remplacer par le token appropri√©
# 4. Tester visuellement le composant
# 5. Commit atomique par composant/feature
```

### Fichiers prioritaires √† migrer

**Top 10 fichiers** (plus d'occurrences hardcod√©es) :

1. `src/styles/kng-widgets.scss` - Composants UI globaux
2. `src/styles/kng-theme.scss` - Variables th√®me
3. `src/app/kng-product/product-list.component.scss` - Liste produits
4. `src/app/kng-cart/kng-cart.component.scss` - Panier
5. `src/app/kng-navbar/kng-navbar.component.scss` - Navigation
6. `src/app/kng-home/kng-home.component.scss` - Page d'accueil
7. `src/app/kng-product/product-thumbnail.component.scss` - Vignettes
8. `src/styles/kng-side-menu.scss` - Menu lat√©ral
9. `src/app/kng-assistant-bot/kng-assistant-bot.component.scss` - Assistant
10. `src/app/shared/kng-ui-bottom-actions/kng-ui-bottom-actions.component.scss` - Actions

---

## Fichiers prot√©g√©s - NE PAS MODIFIER

> **‚ö†Ô∏è ATTENTION : Les sections suivantes n√©cessitent une confirmation STRICTE avant modification.**

### `src/styles/styles.scss` - Layout Principal

Les classes suivantes g√®rent l'architecture responsive 3 colonnes avec swipe mobile. Toute modification peut casser le comportement de navigation sur tous les devices.

**Classes prot√©g√©es :**

| Classe | R√¥le | Impact si modifi√©e |
|--------|------|-------------------|
| `.grid-container-3` | Grille principale 3 colonnes | Layout entier cass√© |
| `.mobile-columns-wrapper` | Wrapper swipe mobile/tablet | Navigation mobile cass√©e |
| `.swipe-panel` (`.side`, `.center`, `.right`) | Panels swipables | Positions et scroll cass√©s |
| `.swipe-indicators` | Indicateurs de position mobile | UX mobile d√©grad√©e |

**Propri√©t√©s critiques :**

```scss
// ‚õî NE PAS TOUCHER sans confirmation
grid-template-columns: .6fr var(--mdc-theme-container-width) 1fr;
grid-template-rows: var(--mdc-theme-top-bar) 1fr auto;
scroll-snap-type: x mandatory;
scroll-snap-align: center;
touch-action: pan-x;
```

**R√®gle :** Demander une confirmation explicite avant toute modification de ces classes.

### Variables CSS de layout

Ces variables sont utilis√©es globalement et impactent tout le site :

```scss
// ‚õî PROT√âG√âES - Impact global
--mdc-theme-top-bar          // Hauteur navbar
--mdc-theme-mobile-bar       // Hauteur mobile-bar (iOS safe area)
--mdc-theme-container-width  // Largeur container central
--mdc-theme-body-zoom        // Zoom du body
--mdc-theme-toolbox-width    // Largeur menu side
--mdc-theme-right-width      // Largeur sidebar droite

// ‚õî CALCUL√âE - Ne pas surcharger directement
--mdc-theme-height           // Hauteur viewport dynamique
```

**Variable calcul√©e `--mdc-theme-height`** (d√©finie dans `kng-responsive.scss`) :

```scss
// Calcule la hauteur disponible en tenant compte du zoom et des barres syst√®me
--mdc-theme-height: calc((100dvh - var(--mdc-theme-top-bar, 0) - var(--mdc-theme-mobile-bar, 0)) / var(--mdc-theme-body-zoom));
```

Cette variable est utilis√©e pour les conteneurs pleine hauteur et s'adapte automatiquement au zoom et aux barres syst√®me (iOS safe area, etc.).

---

## Architecture des couleurs

### Fichier source : `src/styles/colors.scss`

Les couleurs du projet sont centralis√©es dans `colors.scss` qui est import√© dans `styles.scss`. Ce fichier contient :

1. **Palette de cat√©gories** : Couleurs cycliques pour les cards
2. **G√©n√©ration dynamique brand** : √âchelle compl√®te depuis `--mdc-theme-primary`
3. **Support dark mode** : Classe `.wa-dark` combinable avec le th√®me Hub

---

## Th√®me dynamique - navigation.service.ts

**Fichier source** : `src/app/common/navigation.service.ts` (lignes 100-160)

### Fonctionnement actuel

Le th√®me est appliqu√© dynamiquement via JavaScript en fonction du Hub s√©lectionn√©. Les couleurs proviennent de `hub.colors` depuis le backend.

```typescript
// navigation.service.ts - updateConfig()
const style = document.documentElement.style;
if (hub.colors.primary) { 
  style.setProperty('--mdc-theme-primary', hub.colors.primary); 
}
if (hub.colors.action) { 
  style.setProperty('--mdc-theme-secondary', hub.colors.action); 
}
if (hub.colors.appbar) {
  style.setProperty('--mdc-theme-appbar', hub.colors.appbar);
}
// etc.
```

### Mapping couleurs Hub ‚Üí CSS Variables

| Propri√©t√© Hub | Variable CSS | Usage |
|---------------|--------------|-------|
| `hub.colors.primary` | `--mdc-theme-primary` | Couleur marque principale |
| `hub.colors.primaryText` | `--mdc-theme-primary-text` | Texte sur fond primary |
| `hub.colors.action` | `--mdc-theme-secondary` | Couleur d'accent |
| `hub.colors.actionText` | `--mdc-theme-secondary-text` | Texte sur fond accent |
| `hub.colors.colormix` | `--mdc-theme-colormix` | Base pour `color-mix()` |
| `hub.colors.appbar` | `--mdc-theme-appbar` | Fond de la navbar |
| `hub.colors.appbarText` | `--mdc-theme-appbar-text` | Texte de la navbar |

### G√©n√©ration automatique des variantes (color-mix)

```scss
// styles.scss - G√©n√©ration variantes claires
@supports (color: color-mix(in srgb, red 50%, blue)) {
  --mdc-theme-primary-light: color-mix(in srgb, var(--mdc-theme-primary) 30%, var(--mdc-theme-colormix));
  --mdc-theme-secondary-light: color-mix(in srgb, var(--mdc-theme-secondary) 30%, var(--mdc-theme-colormix));
}
```

---

## TODO : Migration vers Web Awesome Theming

**Documentation r√©f√©rence** : 
- https://webawesome.com/docs/customizing
- https://webawesome.com/docs/color-palettes

### T√¢ches de migration

#### Phase 1 : Mapping s√©mantique `--mdc-theme-*` ‚Üí `--wa-color-*`

| T√¢che | Priorit√© | Complexit√© |
|-------|----------|------------|
| Mapper `--mdc-theme-primary` ‚Üí `--wa-color-brand-*` scale | Haute | Moyenne |
| Mapper `--mdc-theme-secondary` ‚Üí `--wa-color-brand-*` ou custom | Haute | Moyenne |
| D√©finir si `neutral` = gray scale ou d√©riv√© du primary | Moyenne | Faible |

**Algorithme oklab pour le contraste** :

L'espace colorim√©trique `oklab` garantit une perception uniforme du contraste :

| Diff√©rence lightness | Ratio contraste | Usage WCAG |
|---------------------|-----------------|------------|
| 40 | 3:1 minimum | √âl√©ments UI larges |
| 50 | 4.5:1 minimum | Texte normal (AA) |
| 60 | 7:1 minimum | Texte petit (AAA) |

**Impl√©mentation dans `colors.scss`** :

```scss
// ============================================================
// G√âN√âRATION DYNAMIQUE - Algorithme oklab
// Contraste WCAG garanti via diff√©rences de lightness calibr√©es
// ============================================================
:root {
  // Base color (d√©finie par Hub ou d√©faut)
  --mdc-theme-primary: #32b0a0;
  
  // ‚úÖ Tints (vers le blanc) - oklab pour perception uniforme
  --wa-color-brand-95: color-mix(in oklab, white 95%, var(--mdc-theme-primary) 5%);
  --wa-color-brand-90: color-mix(in oklab, white 88%, var(--mdc-theme-primary) 12%);
  --wa-color-brand-80: color-mix(in oklab, white 70%, var(--mdc-theme-primary) 30%);
  --wa-color-brand-70: color-mix(in oklab, white 55%, var(--mdc-theme-primary) 45%);
  --wa-color-brand-60: color-mix(in oklab, white 40%, var(--mdc-theme-primary) 60%);
  --wa-color-brand-50: var(--mdc-theme-primary);  // Base
  
  // ‚úÖ Shades (vers le noir) - contraste texte garanti
  --wa-color-brand-40: color-mix(in oklab, var(--mdc-theme-primary) 90%, black 10%);
  --wa-color-brand-30: color-mix(in oklab, var(--mdc-theme-primary) 80%, black 20%);
  --wa-color-brand-20: color-mix(in oklab, var(--mdc-theme-primary) 65%, black 35%);
  --wa-color-brand-10: color-mix(in oklab, var(--mdc-theme-primary) 50%, black 50%);
  --wa-color-brand-05: color-mix(in oklab, var(--mdc-theme-primary) 30%, black 70%);
  
  // ‚úÖ Tokens s√©mantiques brand
  --wa-color-brand-fill-quiet: var(--wa-color-brand-90);
  --wa-color-brand-fill-normal: var(--wa-color-brand-80);
  --wa-color-brand-fill-loud: var(--wa-color-brand-50);
  --wa-color-brand-border-quiet: var(--wa-color-brand-80);
  --wa-color-brand-border-normal: var(--wa-color-brand-60);
  --wa-color-brand-border-loud: var(--wa-color-brand-50);
  --wa-color-brand-on-quiet: var(--wa-color-brand-30);
  --wa-color-brand-on-normal: var(--wa-color-brand-20);
  --wa-color-brand-on-loud: var(--mdc-theme-primary-text);
}

// ============================================================
// DARK MODE - Inverse l'√©chelle pour fond sombre
// ============================================================
.wa-dark {
  // Fond sombre ‚Üí tints deviennent fonc√©s, shades deviennent clairs
  --wa-color-brand-fill-quiet: var(--wa-color-brand-20);
  --wa-color-brand-fill-normal: var(--wa-color-brand-30);
  --wa-color-brand-fill-loud: var(--wa-color-brand-50);
  --wa-color-brand-border-quiet: var(--wa-color-brand-30);
  --wa-color-brand-border-normal: var(--wa-color-brand-40);
  --wa-color-brand-border-loud: var(--wa-color-brand-50);
  --wa-color-brand-on-quiet: var(--wa-color-brand-70);
  --wa-color-brand-on-normal: var(--wa-color-brand-80);
  --wa-color-brand-on-loud: var(--mdc-theme-primary-text);
}
```

#### Phase 2 : Mise √† jour de `navigation.service.ts`

| T√¢che | Priorit√© | Complexit√© |
|-------|----------|------------|
| Ajouter setProperty pour `--wa-color-brand-*` | Haute | Faible |
| G√©n√©rer dynamiquement les tints (50, 60, 70, etc.) | Moyenne | Haute |
| Supporter dark mode via `.wa-dark` class | Basse | Moyenne |

**Code √† ajouter dans `updateConfig()` :**

```typescript
// navigation.service.ts - √Ä AJOUTER
if (hub.colors.primary) {
  // Existant
  style.setProperty('--mdc-theme-primary', hub.colors.primary);
  
  // ‚úÖ NOUVEAU - Web Awesome brand mapping
  style.setProperty('--wa-color-brand-50', hub.colors.primary);
  style.setProperty('--wa-color-brand-fill-loud', hub.colors.primary);
  // etc.
}
```

#### Phase 3 : ‚úÖ IMPL√âMENT√â - Palette dynamique dans `colors.scss`

| T√¢che | Statut | Fichier |
|-------|--------|---------|
| G√©n√©ration √©chelle brand (oklab) | ‚úÖ Fait | `src/styles/colors.scss` |
| G√©n√©ration √©chelle secondary (oklab) | ‚úÖ Fait | `src/styles/colors.scss` |
| Support dark mode `.wa-dark` | ‚úÖ Fait | `src/styles/colors.scss` |
| Palette cat√©gories cyclique | ‚úÖ Existant | `src/styles/colors.scss` |

**Architecture impl√©ment√©e :**

```
src/styles/
‚îú‚îÄ‚îÄ colors.scss          ‚Üê Toutes les couleurs (brand, secondary, cat√©gories)
‚îú‚îÄ‚îÄ styles.scss          ‚Üê Importe colors.scss + layout global
‚îî‚îÄ‚îÄ kng-responsive.scss  ‚Üê Variables responsive (--mdc-theme-height)
```

**Tokens s√©mantiques disponibles :**

| Token | Light mode | Dark mode |
|-------|------------|-----------|
| `--wa-color-brand-fill-quiet` | brand-90 (clair) | brand-20 (fonc√©) |
| `--wa-color-brand-fill-normal` | brand-80 | brand-30 |
| `--wa-color-brand-fill-loud` | brand-50 (base) | brand-50 (base) |
| `--wa-color-brand-on-*` | brand-30/20 | brand-70/80 |

#### Phase 4 : Migration progressive des composants

| T√¢che | Fichiers concern√©s | Priorit√© |
|-------|-------------------|----------|
| Remplacer `var(--mdc-theme-primary)` par `var(--wa-color-brand-fill-loud)` | ~200 occurrences | Basse |
| Remplacer hardcoded `#32b0a0` par tokens | ~15 occurrences | Moyenne |
| Tester rendu avec diff√©rents Hubs | - | Haute |

### Risques et pr√©cautions

1. **R√©trocompatibilit√©** : Garder `--mdc-theme-*` actif pendant la transition
2. **Tests multi-Hub** : Tester avec Geneva, Lausanne, HDR, etc.
3. **Dark mode** : ‚úÖ Impl√©ment√© dans `colors.scss` via classe `.wa-dark`

### Activation du dark mode

```html
<!-- Ajouter la classe sur html pour activer -->
<html class="wa-dark">

<!-- Combinable avec le th√®me Hub dynamique -->
<!-- navigation.service.ts continue de setter --mdc-theme-primary -->
<!-- Les tokens --wa-color-brand-* s'adaptent automatiquement -->
```

```typescript
// navigation.service.ts - Toggle dark mode (√† impl√©menter)
toggleDarkMode(enabled: boolean) {
  document.documentElement.classList.toggle('wa-dark', enabled);
}

---

## Philosophie d'usage

### Quand utiliser les tokens

| Contexte | Utiliser tokens | Valeurs libres OK |
|----------|-----------------|-------------------|
| **Root du composant** (padding, gap principal) | **Obligatoire** | Non |
| **√âl√©ments de layout** (grilles, containers) | **Obligatoire** | Non |
| **Couleurs s√©mantiques** (brand, danger, etc.) | **Obligatoire** | Non |
| **Bordures structurantes** | **Obligatoire** | Non |
| **Marges internes fines** (padding inline) | Non | Oui (`.5rem`, `.25rem`) |
| **Ajustements positionnels** | Non | Oui (`1px`, `2px`) |
| **Dimensions fixes** (ic√¥nes, avatars) | Non | Oui (`24px`, `48px`) |

### R√®gle d'or

> **Prioriser les tokens au niveau racine des composants**. Les ajustements fins internes (`.5rem`, `.25rem`, `1rem`) sont acceptables s'ils ne cassent pas le rhythm global.

---

## Color - Couleurs

**Documentation** : https://webawesome.com/docs/tokens/color/

### Quand consulter la doc

- D√©finir des √©tats visuels (success, warning, danger, brand)
- Surfaces et fonds d'√©l√©ments
- Texte sur fond color√©
- Contrastes accessibles (WCAG 2.1)

### Tokens essentiels

#### Couleurs s√©mantiques

| Usage | Token | Exemple |
|-------|-------|---------|
| **Fond calme** | `--wa-color-neutral-fill-quiet` | Backgrounds subtils |
| **Fond normal** | `--wa-color-neutral-fill-normal` | Backgrounds standard |
| **Fond accentu√©** | `--wa-color-neutral-fill-loud` | Tooltips, badges |
| **Bordure calme** | `--wa-color-neutral-border-quiet` | S√©parateurs l√©gers |
| **Bordure standard** | `--wa-color-neutral-border-normal` | Inputs, cards |
| **Bordure forte** | `--wa-color-neutral-border-loud` | Focus, s√©lection |
| **Texte calme** | `--wa-color-neutral-on-quiet` | Hints, placeholders |
| **Texte standard** | `--wa-color-neutral-on-normal` | Texte secondaire |
| **Texte fort** | `--wa-color-neutral-on-loud` | Texte sur fond color√© |

#### Pattern attention

```
quiet  ‚Üí attire le moins d'attention (discret)
normal ‚Üí attention mod√©r√©e
loud   ‚Üí attire le plus d'attention (accentu√©)
```

### Exemples pratiques

```scss
// ‚úÖ CORRECT - Utiliser tokens s√©mantiques
.card {
  background: var(--wa-color-surface-default);
  border: 1px solid var(--wa-color-neutral-border-quiet);
}

.card-header {
  border-bottom: 1px solid var(--wa-color-neutral-border-quiet);
}

.hint-text {
  color: var(--wa-color-text-quiet);
}

.badge-danger {
  background: var(--wa-color-danger-fill-loud);
  color: var(--wa-color-danger-on-loud);
}

// ‚ùå √Ä √âVITER - Couleurs hardcod√©es
.card {
  background: #f5f5f5; // ‚Üí Utiliser --wa-color-surface-default
  border: 1px solid #ddd; // ‚Üí Utiliser --wa-color-neutral-border-quiet
}
```

### Convention projet (--mdc-theme-*)

Le projet utilise aussi des tokens custom `--mdc-theme-*` qui doivent √™tre pr√©serv√©s pour la coh√©rence du th√®me :

```scss
// Tokens projet existants (√† garder)
--mdc-theme-primary       // Couleur principale
--mdc-theme-secondary     // Couleur d'accent
--mdc-theme-appbar        // Fond navbar
--mdc-theme-appbar-text   // Texte navbar
```

---

## Space - Espacements

**Documentation** : https://webawesome.com/docs/tokens/space/

### Quand consulter la doc

- D√©finir le padding/margin racine d'un composant
- Espacements entre sections
- Gap dans les layouts flex/grid
- Coh√©rence du rythme vertical

### √âchelle des espacements

| Token | Valeur | Usage typique |
|-------|--------|---------------|
| `--wa-space-3xs` | 2px | Micro-ajustements |
| `--wa-space-2xs` | 4px | Padding ic√¥nes |
| `--wa-space-xs` | 8px | Padding boutons inline |
| `--wa-space-s` | 12px | Gap entre √©l√©ments li√©s |
| `--wa-space-m` | 16px | Padding standard |
| `--wa-space-l` | 24px | S√©paration sections |
| `--wa-space-xl` | 32px | Grandes sections |
| `--wa-space-2xl` | 40px | Spacing hero |
| `--wa-space-3xl` | 48px | Spacing majeur |
| `--wa-space-4xl` | 64px | Spacing page |

### Exemples pratiques

```scss
// ‚úÖ CORRECT - Tokens au niveau racine
.kng-card {
  padding: var(--wa-space-m);
  
  .card-content {
    // Valeurs libres OK pour ajustements internes
    padding: .75rem 1rem;
  }
}

.product-grid {
  display: grid;
  gap: var(--wa-space-l); // 24px - obligatoire au niveau layout
}

.section {
  margin-block: var(--wa-space-xl);
  padding-inline: var(--wa-space-m);
}

// ‚úÖ ACCEPTABLE - Valeurs libres pour micro-ajustements
.icon-button {
  padding: .5rem;  // OK pour composant atomique
}

// ‚ùå √Ä √âVITER - Hardcoding au niveau layout
.product-grid {
  gap: 24px; // ‚Üí Utiliser var(--wa-space-l)
}
```

### Priorit√© de normalisation

**HAUTE PRIORIT√â** (utiliser tokens) :
- Padding racine des composants (`kng-*.component.scss`)
- Gap des grilles principales
- Margin entre sections

**BASSE PRIORIT√â** (valeurs libres OK) :
- Padding inline d'√©l√©ments texte
- Marges de fine-tuning visuel
- Ajustements responsive sp√©cifiques

---

## Border - Bordures

**Documentation** : https://webawesome.com/docs/tokens/borders/

### Quand consulter la doc

- D√©finir un style de bordure coh√©rent
- √âpaisseur de bordure
- Rayons de bordure (border-radius)
- Formes sp√©ciales (pill, circle)

### Tokens essentiels

```scss
// √âpaisseurs
--wa-border-width-s   // 1px - d√©faut
--wa-border-width-m   // 2px - accentu√©e
--wa-border-width-l   // 3px - forte

// Rayons
--wa-border-radius-s      // 3px - subtil
--wa-border-radius-m      // 6px - standard
--wa-border-radius-l      // 12px - prononc√©
--wa-border-radius-pill   // 9999px - boutons arrondis
--wa-border-radius-circle // 50% - avatars
--wa-border-radius-square // 0px - angles droits

// Style
--wa-border-style     // solid (d√©faut)
```

### Exemples pratiques

```scss
// ‚úÖ CORRECT
.card {
  border: var(--wa-border-width-s) var(--wa-border-style) var(--wa-color-neutral-border-quiet);
  border-radius: var(--wa-border-radius-m);
}

.avatar {
  border-radius: var(--wa-border-radius-circle);
}

.badge {
  border-radius: var(--wa-border-radius-pill);
}

// ‚ùå √Ä √âVITER
.card {
  border: 1px solid #ddd;
  border-radius: 6px; // ‚Üí var(--wa-border-radius-m)
}
```

---

## Shadow - Ombres

**Documentation** : https://webawesome.com/docs/tokens/shadows/

### Quand consulter la doc

- √âl√©vation de composants (cards, modals, dropdowns)
- Hi√©rarchie visuelle
- √âtats hover avec profondeur

### Tokens essentiels

```scss
--wa-shadow-s   // √âl√©vation l√©g√®re (cards)
--wa-shadow-m   // √âl√©vation moyenne (dropdowns)
--wa-shadow-l   // √âl√©vation forte (modals, drawers)
```

### Exemples pratiques

```scss
// ‚úÖ CORRECT
.card {
  box-shadow: var(--wa-shadow-s);
}

.dropdown-menu {
  box-shadow: var(--wa-shadow-m);
}

.modal {
  box-shadow: var(--wa-shadow-l);
}

// Hover avec √©l√©vation
.card:hover {
  box-shadow: var(--wa-shadow-m);
}

// ‚ùå √Ä √âVITER
.card {
  box-shadow: 0 2px 4px rgba(0,0,0,0.1); // ‚Üí var(--wa-shadow-s)
}
```

---

## Typography - Typographie

**Documentation** : https://webawesome.com/docs/tokens/typography/

### Quand consulter la doc

- Hi√©rarchie de titres
- Tailles de texte coh√©rentes
- Poids de police
- Hauteur de ligne

### Tokens essentiels

```scss
// Familles
--wa-font-family-body     // Texte courant
--wa-font-family-heading  // Titres
--wa-font-family-code     // Code
--wa-font-family-longform // Articles longs

// Tailles
--wa-font-size-2xs  // 11px
--wa-font-size-xs   // 12px - badges, hints
--wa-font-size-s    // 14px - texte secondaire
--wa-font-size-m    // 16px - texte standard
--wa-font-size-l    // 20px - sous-titres
--wa-font-size-xl   // 25px - titres
--wa-font-size-2xl  // 32px - grands titres
--wa-font-size-3xl  // 41px - hero
--wa-font-size-4xl  // 52px - display

// Poids
--wa-font-weight-light    // 300
--wa-font-weight-normal   // 400
--wa-font-weight-semibold // 500
--wa-font-weight-bold     // 600

// Hauteur de ligne
--wa-line-height-condensed // 1.2 - titres
--wa-line-height-normal    // 1.6 - corps
--wa-line-height-expanded  // 2.0 - a√©r√©
```

### Exemples pratiques

```scss
// ‚úÖ CORRECT
h1 {
  font-size: var(--wa-font-size-2xl);
  font-weight: var(--wa-font-weight-bold);
  line-height: var(--wa-line-height-condensed);
}

.hint {
  font-size: var(--wa-font-size-xs);
  color: var(--wa-color-text-quiet);
}

// ‚ùå √Ä √âVITER
h1 {
  font-size: 32px; // ‚Üí var(--wa-font-size-2xl)
}
```

---

## Transition - Animations

**Documentation** : https://webawesome.com/docs/tokens/transitions/

### Quand consulter la doc

- Dur√©e d'animations coh√©rente
- Easing standard
- √âtats hover/focus fluides

### Tokens essentiels

```scss
--wa-transition-fast    // 75ms - hover, focus
--wa-transition-normal  // 150ms - transitions standard
--wa-transition-slow    // 300ms - animations complexes

--wa-transition-easing  // ease (d√©faut)
```

### Exemples pratiques

```scss
// ‚úÖ CORRECT
.button {
  transition: background-color var(--wa-transition-fast) var(--wa-transition-easing);
}

.drawer {
  transition: transform var(--wa-transition-normal) var(--wa-transition-easing);
}

.page-fade {
  transition: opacity var(--wa-transition-slow) var(--wa-transition-easing);
}

// ‚ùå √Ä √âVITER
.button {
  transition: all 0.2s ease; // ‚Üí var(--wa-transition-fast)
}
```

---

## Focus - √âtats de focus

**Documentation** : https://webawesome.com/docs/tokens/focus/

### Quand consulter la doc

- Accessibilit√© clavier
- Ring de focus visible
- Navigation Tab coh√©rente

### Tokens essentiels

```scss
--wa-focus-ring         // Shorthand complet
--wa-focus-ring-style   // solid
--wa-focus-ring-width   // 3px
--wa-color-focus        // Couleur du ring
--wa-focus-ring-offset  // 1px
```

### Exemples pratiques

```scss
// ‚úÖ CORRECT - Utiliser le shorthand
.interactive-element:focus-visible {
  outline: var(--wa-focus-ring);
  outline-offset: var(--wa-focus-ring-offset);
}

// Pour √©l√©ments custom
.custom-button:focus-visible {
  box-shadow: 0 0 0 var(--wa-focus-ring-width) var(--wa-color-focus);
}
```

---

## Component Groups - Groupes de composants

**Documentation** : https://webawesome.com/docs/tokens/component-groups/

### Quand consulter la doc

- Styling coh√©rent des formulaires
- Panels et cards
- Tooltips

### Form Controls

```scss
--wa-form-control-border-radius    // Arrondi inputs
--wa-form-control-border-width     // √âpaisseur bordure
--wa-form-control-padding-block    // Padding vertical
--wa-form-control-padding-inline   // Padding horizontal
--wa-form-control-height           // Hauteur standard
```

### Panels

```scss
--wa-panel-border-radius   // Cards, callouts, details
--wa-panel-border-width
--wa-panel-border-style
```

### Tooltips

```scss
--wa-tooltip-background-color
--wa-tooltip-border-radius
--wa-tooltip-font-size
```

---

## Audit du projet actuel

### Statistiques (janvier 2026)

| Cat√©gorie | Hardcod√© | √Ä migrer (priorit√© haute) |
|-----------|----------|---------------------------|
| **Spacing** (px) | 443 | ~60% root-level |
| **Border-radius** | 190 | ~80% |
| **Font-size** | 229 | ~50% |
| **Box-shadow** | 85 | ~90% |
| **Transition** | 72 | ~70% |
| `--mdc-theme-*` | 765 | Conserver |
| `--wa-*` adopt√©s | 86 | Augmenter |

### Fichiers prioritaires pour normalisation

**Layout global** (HAUTE PRIORIT√â) :
- `src/styles/styles.scss`
- `src/styles/kng-theme.scss`
- `src/styles/kng-widgets.scss`
- `src/styles/kng-side-menu.scss`
- `src/styles/kng-responsive.scss`

**Composants principaux** :
- `kng-home/kng-home.component.scss`
- `kng-product/product-list.component.scss`
- `kng-product/product-thumbnail.component.scss`
- `kng-cart/kng-cart.component.scss`
- `kng-navbar/kng-navbar.component.scss`

### Migration progressive recommand√©e

1. **Phase 1** : Shadows (`box-shadow`) ‚Üí `--wa-shadow-*`
2. **Phase 2** : Border-radius ‚Üí `--wa-border-radius-*`
3. **Phase 3** : Transitions ‚Üí `--wa-transition-*`
4. **Phase 4** : Root-level spacing ‚Üí `--wa-space-*`
5. **Phase 5** : Couleurs restantes ‚Üí `--wa-color-*`

### Pattern de migration

```scss
// AVANT
.component {
  padding: 16px;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
  transition: all 0.2s ease;
}

// APR√àS
.component {
  padding: var(--wa-space-m);
  border-radius: var(--wa-border-radius-m);
  box-shadow: var(--wa-shadow-s);
  transition: all var(--wa-transition-fast) var(--wa-transition-easing);
}
```

---

## R√©capitulatif : Quand lire la documentation

| Besoin | Doc √† consulter | URL |
|--------|-----------------|-----|
| Palette de couleurs, √©tats visuels | Color | https://webawesome.com/docs/tokens/color/ |
| Espacements, rhythm, layout | Space | https://webawesome.com/docs/tokens/space/ |
| Bordures, rayons, formes | Borders | https://webawesome.com/docs/tokens/borders/ |
| √âl√©vation, profondeur | Shadows | https://webawesome.com/docs/tokens/shadows/ |
| Tailles texte, poids, familles | Typography | https://webawesome.com/docs/tokens/typography/ |
| Dur√©es animations, easing | Transitions | https://webawesome.com/docs/tokens/transitions/ |
| Accessibilit√© clavier | Focus | https://webawesome.com/docs/tokens/focus/ |
| Formulaires, panels, tooltips | Component Groups | https://webawesome.com/docs/tokens/component-groups/ |
